import{createFilter as b}from"@rollup/pluginutils";import x from"path";var o=(e={})=>{var m,n,p;e.transform||(e.transform=r=>r);const f=[],u={},y=(m=e.alwaysOutput)!=null?m:!1,O=b((n=e.include)!=null?n:["**/*.css"],(p=e.exclude)!=null?p:[]);return{name:"import-css",load(r){r.endsWith(".css")&&f.push(r)},transform(r,l){if(!O(l))return;const a=e.minify?_(e.transform(r)):e.transform(r);return(!u[l]||u[l]!=a)&&(u[l]=a),{code:`export default ${JSON.stringify(a)};`,map:{mappings:""}}},generateBundle(r,l){var a,c;let t={};for(let s in l)t=Object.assign(t,l[s].modules);const d=Object.entries(u).sort((s,i)=>f.indexOf(s[0])-f.indexOf(i[0])).map(([s,i])=>{if(!t[s])return i}).join(`
`);if(d.trim().length<=0&&!y)return;const g=(c=e.output)!=null?c:(a=r.file)!=null?a:"bundle.js",h=x.basename(g,x.extname(g));this.emitFile({type:"asset",fileName:`${h}.css`,source:d})}}};function _(e){return e=e.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,""),e=e.replace(/ {2,}/g," "),e=e.replace(/ ([{:}]) /g,"$1"),e=e.replace(/([{:}]) /g,"$1"),e=e.replace(/([;,]) /g,"$1"),e=e.replace(/ !/g,"!"),e}export{o as default};
