"use strict";var pluginutils=require("@rollup/pluginutils"),path=require("path");function _interopDefaultLegacy(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var path__default=_interopDefaultLegacy(path),index=(e={})=>{var n,m,c;e.transform||(e.transform=r=>r);const t=[],u={},y=(n=e.alwaysOutput)!=null?n:!1,_=pluginutils.createFilter((m=e.include)!=null?m:["**/*.css"],(c=e.exclude)!=null?c:[]);return{name:"import-css",load(r){r.endsWith(".css")&&t.push(r)},transform(r,a){if(!_(a))return;const l=e.minify?minifyCSS(e.transform(r)):e.transform(r);return(!u[a]||u[a]!=l)&&(u[a]=l),{code:`export default ${JSON.stringify(l)};`,map:{mappings:""}}},generateBundle(r,a){var l,p;let f={};for(let s in a)f=Object.assign(f,a[s].modules);const d=Object.entries(u).sort((s,i)=>t.indexOf(s[0])-t.indexOf(i[0])).map(([s,i])=>{if(!f[s])return i}).join(`
`);if(d.trim().length<=0&&!y)return;const g=(p=e.output)!=null?p:(l=r.file)!=null?l:"bundle.js",h=path__default.default.basename(g,path__default.default.extname(g));this.emitFile({type:"asset",fileName:`${h}.css`,source:d})}}};function minifyCSS(e){return e=e.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,""),e=e.replace(/ {2,}/g," "),e=e.replace(/ ([{:}]) /g,"$1"),e=e.replace(/([{:}]) /g,"$1"),e=e.replace(/([;,]) /g,"$1"),e=e.replace(/ !/g,"!"),e}module.exports=index;
