import { EmittedFile, RollupWatcherEvent } from 'rollup';
import { ViteDevServer } from 'vite';
import { CrxPlugin } from './types';
export declare const pluginsHook = "configResolved";
export declare const serverHook = "configureServer";
export declare const optionsHook = "buildStart";
export interface FileWriterContext {
    /** CrxPlugins to be shared between serve and Rollup watch */
    plugins: CrxPlugin[];
    server?: ViteDevServer;
}
export declare const getEmittedFileId: (file: EmittedFile) => string;
export declare const model: import("xstate/lib/model.types").Model<FileWriterContext, import("xstate/lib/model.types").UnionFromCreatorsReturnTypes<import("xstate/lib/model.types").FinalEventCreators<{
    /** CrxPlugins to be shared between serve and Rollup watch */
    PLUGINS: (plugins: CrxPlugin[]) => {
        plugins: CrxPlugin[];
    };
    SERVER: (server: ViteDevServer) => {
        server: ViteDevServer;
    };
    SERVER_READY: () => {};
    BUNDLE_START: (event: Extract<RollupWatcherEvent, {
        code: 'BUNDLE_START';
    }>) => {
        event: {
            code: "BUNDLE_START";
            input?: import("rollup").InputOption | undefined;
            output: readonly string[];
        };
    };
    BUNDLE_END: (event: Extract<RollupWatcherEvent, {
        code: 'BUNDLE_END';
    }>) => {
        event: {
            code: "BUNDLE_END";
            duration: number;
            input?: import("rollup").InputOption | undefined;
            output: readonly string[];
            result: import("rollup").RollupBuild;
        };
    };
    ERROR: (error: any, id?: string | undefined) => {
        id: string | undefined;
        error: any;
    };
}>>, import("xstate").BaseActionObject, import("xstate/lib/model.types").FinalModelCreators<{
    events: {
        /** CrxPlugins to be shared between serve and Rollup watch */
        PLUGINS: (plugins: CrxPlugin[]) => {
            plugins: CrxPlugin[];
        };
        SERVER: (server: ViteDevServer) => {
            server: ViteDevServer;
        };
        SERVER_READY: () => {};
        BUNDLE_START: (event: Extract<RollupWatcherEvent, {
            code: 'BUNDLE_START';
        }>) => {
            event: {
                code: "BUNDLE_START";
                input?: import("rollup").InputOption | undefined;
                output: readonly string[];
            };
        };
        BUNDLE_END: (event: Extract<RollupWatcherEvent, {
            code: 'BUNDLE_END';
        }>) => {
            event: {
                code: "BUNDLE_END";
                duration: number;
                input?: import("rollup").InputOption | undefined;
                output: readonly string[];
                result: import("rollup").RollupBuild;
            };
        };
        ERROR: (error: any, id?: string | undefined) => {
            id: string | undefined;
            error: any;
        };
    };
}>>;
export declare const machine: import("xstate").StateMachine<FileWriterContext, any, import("xstate/lib/model.types").UnionFromCreatorsReturnTypes<import("xstate/lib/model.types").FinalEventCreators<{
    /** CrxPlugins to be shared between serve and Rollup watch */
    PLUGINS: (plugins: CrxPlugin[]) => {
        plugins: CrxPlugin[];
    };
    SERVER: (server: ViteDevServer) => {
        server: ViteDevServer;
    };
    SERVER_READY: () => {};
    BUNDLE_START: (event: Extract<RollupWatcherEvent, {
        code: 'BUNDLE_START';
    }>) => {
        event: {
            code: "BUNDLE_START";
            input?: import("rollup").InputOption | undefined;
            output: readonly string[];
        };
    };
    BUNDLE_END: (event: Extract<RollupWatcherEvent, {
        code: 'BUNDLE_END';
    }>) => {
        event: {
            code: "BUNDLE_END";
            duration: number;
            input?: import("rollup").InputOption | undefined;
            output: readonly string[];
            result: import("rollup").RollupBuild;
        };
    };
    ERROR: (error: any, id?: string | undefined) => {
        id: string | undefined;
        error: any;
    };
}>>, {
    value: any;
    context: FileWriterContext;
}, import("xstate").ActionObject<FileWriterContext, import("xstate/lib/model.types").UnionFromCreatorsReturnTypes<import("xstate/lib/model.types").FinalEventCreators<{
    /** CrxPlugins to be shared between serve and Rollup watch */
    PLUGINS: (plugins: CrxPlugin[]) => {
        plugins: CrxPlugin[];
    };
    SERVER: (server: ViteDevServer) => {
        server: ViteDevServer;
    };
    SERVER_READY: () => {};
    BUNDLE_START: (event: Extract<RollupWatcherEvent, {
        code: 'BUNDLE_START';
    }>) => {
        event: {
            code: "BUNDLE_START";
            input?: import("rollup").InputOption | undefined;
            output: readonly string[];
        };
    };
    BUNDLE_END: (event: Extract<RollupWatcherEvent, {
        code: 'BUNDLE_END';
    }>) => {
        event: {
            code: "BUNDLE_END";
            duration: number;
            input?: import("rollup").InputOption | undefined;
            output: readonly string[];
            result: import("rollup").RollupBuild;
        };
    };
    ERROR: (error: any, id?: string | undefined) => {
        id: string | undefined;
        error: any;
    };
}>>>>;
